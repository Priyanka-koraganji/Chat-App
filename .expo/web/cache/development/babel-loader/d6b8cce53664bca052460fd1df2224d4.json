{"ast":null,"code":"import _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { GiftedChat, Bubble, InputToolbar } from 'react-native-gifted-chat';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport NetInfo from '@react-native-community/netinfo';\nimport CustomAction from \"./customActions\";\nimport MapView from 'react-native-maps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar firebase = require('firebase');\n\nrequire('firebase/firestore');\n\nvar Chat = function (_React$Component) {\n  _inherits(Chat, _React$Component);\n\n  var _super = _createSuper(Chat);\n\n  function Chat(_props) {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _super.call(this, _props);\n\n    _this.onCollectionUpdate = function (querySnapshot) {\n      var messages = [];\n      querySnapshot.forEach(function (doc) {\n        var _data$createdAt;\n\n        var data = doc.data();\n        messages.push({\n          _id: data._id,\n          text: data.text,\n          createdAt: (_data$createdAt = data.createdAt) == null ? void 0 : _data$createdAt.toDate(),\n          user: {\n            _id: data.user._id,\n            name: data.user.name,\n            avatar: data.user.avatar || ''\n          },\n          image: data.image || null,\n          location: data.location || null\n        });\n      });\n\n      _this.setState({\n        messages: messages\n      });\n    };\n\n    _this.addMessages = function (message) {\n      _this.referenceChatMessages.add({\n        uid: _this.state.uid,\n        _id: message._id,\n        text: message.text || \"\",\n        createdAt: message.createdAt,\n        user: message.user,\n        image: message.image || null,\n        location: message.location || null\n      });\n    };\n\n    _this.renderCustomActions = function (props) {\n      return _jsx(CustomAction, _objectSpread({}, props));\n    };\n\n    _this.state = {\n      messages: [],\n      uid: 0,\n      user: {\n        _id: \"\",\n        name: \"\",\n        avatar: \"\",\n        image: null,\n        location: null\n      },\n      isConnected: false\n    };\n    var firebaseConfig = {\n      apiKey: \"AIzaSyBQF4hVb36u56Q--Usb76HliDu3zD3YIxU\",\n      authDomain: \"chatapp-b91f5.firebaseapp.com\",\n      projectId: \"chatapp-b91f5\",\n      storageBucket: \"chatapp-b91f5.appspot.com\",\n      messagingSenderId: \"132737882655\",\n      appId: \"1:132737882655:web:9a26378385be748f84132a\",\n      measurementId: \"G-D61GNPCPCK\"\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    }\n\n    _this.referenceChatMessages = firebase.firestore().collection('messages');\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"saveMessages\",\n    value: function saveMessages() {\n      return _regeneratorRuntime.async(function saveMessages$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('messages', JSON.stringify(this.state.messages)));\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0.message);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[0, 5]], Promise);\n    }\n  }, {\n    key: \"getMessages\",\n    value: function getMessages() {\n      var messages;\n      return _regeneratorRuntime.async(function getMessages$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              messages = '';\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('messages'));\n\n            case 4:\n              _context2.t0 = _context2.sent;\n\n              if (_context2.t0) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.t0 = [];\n\n            case 7:\n              messages = _context2.t0;\n              this.setState({\n                messages: JSON.parse(messages)\n              });\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t1 = _context2[\"catch\"](1);\n              console.log(_context2.t1.message);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[1, 11]], Promise);\n    }\n  }, {\n    key: \"deleteMessages\",\n    value: function deleteMessages() {\n      return _regeneratorRuntime.async(function deleteMessages$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.removeItem('messages'));\n\n            case 3:\n              _context3.next = 8;\n              break;\n\n            case 5:\n              _context3.prev = 5;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0.message);\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 5]], Promise);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var name = this.props.route.params.name;\n      this.props.navigation.setOptions({\n        title: name\n      });\n      NetInfo.fetch().then(function (connection) {\n        if (connection.isConnected) {\n          _this2.setState({\n            isConnected: true\n          });\n\n          _this2.referenceChatMessages = firebase.firestore().collection('messages');\n          _this2.authUnsubscribe = firebase.auth().onAuthStateChanged(function _callee(user) {\n            return _regeneratorRuntime.async(function _callee$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    if (!user) {\n                      firebase.auth().signInAnonymously();\n                    }\n\n                    _this2.setState({\n                      uid: user.uid,\n                      messages: [],\n                      user: {\n                        _id: user.uid,\n                        name: name\n                      }\n                    });\n\n                    _this2.unsubscribe = _this2.referenceChatMessages.orderBy('createdAt', 'desc').onSnapshot(_this2.onCollectionUpdate);\n\n                  case 3:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          });\n        } else {\n          _this2.setState({\n            isConnected: false\n          });\n\n          _this2.getMessages();\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.isConnected) {\n        this.unsubscribe();\n        this.authUnsubscribe();\n      }\n    }\n  }, {\n    key: \"onSend\",\n    value: function onSend() {\n      var _this3 = this;\n\n      var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.setState(function (previousState) {\n        return {\n          messages: GiftedChat.append(previousState.messages, messages)\n        };\n      }, function () {\n        _this3.saveMessages();\n\n        if (_this3.state.isConnected === true) {\n          _this3.addMessages(_this3.state.messages[0]);\n        }\n      });\n    }\n  }, {\n    key: \"renderBubble\",\n    value: function renderBubble(props) {\n      return _jsx(Bubble, _objectSpread(_objectSpread({}, props), {}, {\n        wrapperStyle: {\n          left: {\n            backgroundColor: '#fafafa'\n          },\n          right: {\n            backgroundColor: '#2d7ecf'\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"renderInputToolbar\",\n    value: function renderInputToolbar(props) {\n      if (this.state.isConnected == false) {} else {\n        return _jsx(InputToolbar, _objectSpread({}, props));\n      }\n    }\n  }, {\n    key: \"renderCustomView\",\n    value: function renderCustomView(props) {\n      var currentMessage = props.currentMessage;\n\n      if (currentMessage.location) {\n        return _jsx(MapView, {\n          style: {\n            width: 150,\n            height: 100,\n            borderRadius: 13,\n            margin: 3\n          },\n          region: {\n            latitude: currentMessage.location.latitude,\n            longitude: currentMessage.location.longitude,\n            latitudeDelta: 0.0922,\n            longitudeDelta: 0.0421\n          }\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var name = this.props.route.params.name;\n      var color = this.props.route.params.color;\n\n      if (color === '') {\n        '#8A95A5', _readOnlyError(\"color\");\n      }\n\n      return _jsxs(View, {\n        style: [{\n          flex: 1\n        }, {\n          backgroundColor: color\n        }],\n        children: [_jsx(GiftedChat, {\n          renderBubble: this.renderBubble.bind(this),\n          renderInputToolbar: this.renderInputToolbar.bind(this),\n          renderActions: this.renderCustomActions,\n          renderCustomView: this.renderCustomView,\n          messages: this.state.messages,\n          onSend: function onSend(messages) {\n            return _this4.onSend(messages);\n          },\n          user: {\n            _id: this.state.user._id,\n            name: name\n          }\n        }), Platform.OS === 'android' ? _jsx(KeyboardAvoidingView, {\n          behavior: \"height\"\n        }) : null]\n      });\n    }\n  }]);\n\n  return Chat;\n}(React.Component);\n\nexport { Chat as default };","map":{"version":3,"names":["React","GiftedChat","Bubble","InputToolbar","AsyncStorage","NetInfo","CustomAction","MapView","firebase","require","Chat","props","onCollectionUpdate","querySnapshot","messages","forEach","doc","data","push","_id","text","createdAt","toDate","user","name","avatar","image","location","setState","addMessages","message","referenceChatMessages","add","uid","state","renderCustomActions","isConnected","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","firestore","collection","setItem","JSON","stringify","console","log","getItem","parse","removeItem","route","params","navigation","setOptions","title","fetch","then","connection","authUnsubscribe","auth","onAuthStateChanged","signInAnonymously","unsubscribe","orderBy","onSnapshot","getMessages","previousState","append","saveMessages","left","backgroundColor","right","currentMessage","width","height","borderRadius","margin","latitude","longitude","latitudeDelta","longitudeDelta","color","flex","renderBubble","bind","renderInputToolbar","renderCustomView","onSend","Platform","OS","Component"],"sources":["/Users/prashantpriya/Desktop/CF Projects/chatApp/components/Chat.js"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, Text, TextInput, ScrollView, Button, FlatList } from 'react-native';\nimport { GiftedChat, Bubble, InputToolbar } from 'react-native-gifted-chat';\nimport { Platform, KeyboardAvoidingView } from 'react-native';\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport NetInfo from '@react-native-community/netinfo';\nimport CustomAction from './customActions';\nimport MapView from 'react-native-maps';\n\n//import firebase\nconst firebase = require('firebase');\nrequire('firebase/firestore');\n\nexport default class Chat extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            messages: [],\n            uid: 0,\n            user: {\n                _id: \"\",\n                name: \"\",\n                avatar: \"\",\n                image: null,\n                location: null,\n            },\n            isConnected: false,\n        };\n        //config keys\n        const firebaseConfig = {\n            apiKey: \"AIzaSyBQF4hVb36u56Q--Usb76HliDu3zD3YIxU\",\n            authDomain: \"chatapp-b91f5.firebaseapp.com\",\n            projectId: \"chatapp-b91f5\",\n            storageBucket: \"chatapp-b91f5.appspot.com\",\n            messagingSenderId: \"132737882655\",\n            appId: \"1:132737882655:web:9a26378385be748f84132a\",\n            measurementId: \"G-D61GNPCPCK\"\n        }\n\n        if (!firebase.apps.length) {\n            firebase.initializeApp(firebaseConfig);\n        }\n        this.referenceChatMessages = firebase.firestore().collection('messages');\n    }\n\n    onCollectionUpdate = (querySnapshot) => {\n        const messages = [];\n        // go through each document\n        querySnapshot.forEach((doc) => {\n            // get the QueryDocumentSnapshot's data\n            let data = doc.data();\n            messages.push({\n                _id: data._id,\n                text: data.text,\n                createdAt: data.createdAt?.toDate(),\n                user: {\n                    _id: data.user._id,\n                    name: data.user.name,\n                    avatar: data.user.avatar || '',\n                },\n                image: data.image || null,\n                location: data.location || null,\n            });\n        });\n        this.setState({\n            messages,\n        });\n    }\n    // firebase storage\n    async saveMessages() {\n        try {\n            await AsyncStorage.setItem('messages', JSON.stringify(this.state.messages));\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    // temporarly storage of messages (storage)\n    async getMessages() {\n        let messages = '';\n        try {\n            messages = await AsyncStorage.getItem('messages') || [];\n            this.setState({\n                messages: JSON.parse(messages)\n            });\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    async deleteMessages() {\n        try {\n            await AsyncStorage.removeItem('messages');\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    componentDidMount() {\n        // Set name as title chat\n        let { name } = this.props.route.params;\n        this.props.navigation.setOptions({ title: name });\n\n        // Check if user is offline or online\n        NetInfo.fetch().then((connection) => {\n            if (connection.isConnected) {\n                this.setState({\n                    isConnected: true,\n                });\n\n                // Reference to load messages from Firebase\n                this.referenceChatMessages = firebase\n                    .firestore()\n                    .collection('messages');\n\n                // Authenticate user anonymously\n                this.authUnsubscribe = firebase\n                    .auth()\n                    .onAuthStateChanged(async (user) => {\n                        if (!user) {\n                            firebase.auth().signInAnonymously();\n                        }\n                        this.setState({\n                            uid: user.uid,\n                            messages: [],\n                            user: {\n                                _id: user.uid,\n                                name: name,\n                            },\n                        });\n                        this.unsubscribe = this.referenceChatMessages\n                            .orderBy('createdAt', 'desc')\n                            .onSnapshot(this.onCollectionUpdate);\n                    });\n            } else {\n                this.setState({\n                    isConnected: false,\n                });\n                this.getMessages();\n            }\n        });\n    }\n    // stop listening to auth and collection changes\n    componentWillUnmount() {\n        if (this.isConnected) {\n            this.unsubscribe();\n            this.authUnsubscribe();\n        }\n    }\n\n    onSend(messages = []) {\n        this.setState(\n            (previousState) => ({\n                messages: GiftedChat.append(previousState.messages, messages),\n            }),\n            () => {\n                // Save messages locally with Async Storage\n                this.saveMessages();\n                // Call addMessage with last message in message state\n                if (this.state.isConnected === true) {\n                    this.addMessages(this.state.messages[0]);\n                }\n            }\n        );\n    }\n\n    // Add message to Firestore\n    addMessages = (message) => {\n        this.referenceChatMessages.add({\n            uid: this.state.uid,\n            _id: message._id,\n            text: message.text || \"\",\n            createdAt: message.createdAt,\n            user: message.user,\n            image: message.image || null,\n            location: message.location || null,\n        });\n    };\n\n\n\n    renderBubble(props) {\n        return (\n            <Bubble\n                {...props}\n                wrapperStyle={{\n                    left: {\n                        backgroundColor: '#fafafa',\n                    },\n                    right: {\n                        backgroundColor: '#2d7ecf',\n                    },\n                }}\n            />\n        )\n    }\n    // When user is offline disable sending new messages \n    renderInputToolbar(props) {\n        if (this.state.isConnected == false) {\n        } else {\n            return (\n                <InputToolbar\n                    {...props}\n                />\n            );\n        }\n    }\n    renderCustomActions = (props) => {\n        return <CustomAction {...props} />;\n    };\n\n\n    //Render the map location\n    renderCustomView(props) {\n        const { currentMessage } = props;\n        if (currentMessage.location) {\n            return (\n                <MapView\n                    style={{\n                        width: 150,\n                        height: 100,\n                        borderRadius: 13,\n                        margin: 3\n                    }}\n                    region={{\n                        latitude: currentMessage.location.latitude,\n                        longitude: currentMessage.location.longitude,\n                        latitudeDelta: 0.0922,\n                        longitudeDelta: 0.0421,\n                    }}\n                />\n            );\n        }\n        return null;\n    }\n    render() {\n        let name = this.props.route.params.name;\n        const { color } = this.props.route.params;\n        if (color === '') {\n            color = '#8A95A5';\n        }\n        return (\n            <View style={[{ flex: 1 }, { backgroundColor: color }]}>\n                <GiftedChat\n                    renderBubble={this.renderBubble.bind(this)}\n                    renderInputToolbar={this.renderInputToolbar.bind(this)}\n                    renderActions={this.renderCustomActions}\n                    renderCustomView={this.renderCustomView}\n                    messages={this.state.messages}\n                    onSend={messages => this.onSend(messages)}\n                    user={{\n                        _id: this.state.user._id,\n                        name: name\n                    }}\n                />\n\n                {\n                    Platform.OS === 'android' ? <KeyboardAvoidingView behavior=\"height\" /> : null\n                }\n            </View>\n        )\n\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}